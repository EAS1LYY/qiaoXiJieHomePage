<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Qiao Xijie - ä¸ªäººä¸»é¡µ</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Satisfy&family=Inter:wght@300;400;600&family=Dancing+Script:wght@700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --glass: rgba(18, 18, 18, 0.75);
            --glass-hover: rgba(30, 30, 30, 0.9);
            --border: rgba(255, 255, 255, 0.1);
            --text-main: #fcfcfc;
            --text-mute: #a0a0a0;
            --accent: #6366f1;
            --accent-light: #818cf8;
            --danger: #ef4444;
            --success: #10b981;
            --radius: 24px;
            --header-height: 60px;
        }

        ::-webkit-scrollbar {
            width: 4px;
            height: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #000;
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            overflow-y: auto;
        }

        .wallpaper {
            position: fixed;
            inset: 0;
            background-size: cover;
            background-position: center;
            z-index: -2;
            filter: brightness(0.4) blur(4px);
            transform: scale(1.1);
        }

        .bento-grid {
            width: 1320px;
            max-width: 98%;
            min-height: 94vh;
            display: grid;
            grid-template-columns: 320px 1fr 300px;
            grid-template-rows: auto 1fr;
            gap: 20px;
            padding: 40px 20px;
            position: relative;
        }

        .card {
            background: var(--glass);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 24px;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.2), background 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
        }

        .card:hover {
            transform: scale(1.01);
            background: var(--glass-hover);
            z-index: 20;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }

        .col-left,
        .col-center,
        .col-right {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* ä¸ªäººå¡ç‰‡åŠ¨ç”» */
        .profile-card {
            cursor: pointer;
            text-align: center;
        }

        .avatar {
            width: 90px;
            height: 90px;
            border-radius: 30px;
            margin: 0 auto 15px;
            border: 2px solid var(--border);
            background: url('https://q1.qlogo.cn/g?b=qq&nk=1810820293&s=640') center/cover;
            transition: 0.5s;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
        }

        .profile-card:hover .avatar {
            border-radius: 50%;
            transform: rotate(5deg) scale(1.05);
        }

        .profile-text-container {
            position: relative;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .p-text {
            position: absolute;
            width: 100%;
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .p-text.hidden {
            opacity: 0;
            transform: translateY(15px) scale(0.8);
            pointer-events: none;
        }

        .p-text.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .oops-font {
            font-family: 'Satisfy', cursive;
            font-size: 1.8rem;
            color: var(--accent);
            text-shadow: 0 0 12px rgba(99, 102, 241, 0.5);
            margin-top: 10px;
            display: block;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 5px;
        }

        .social-link {
            font-size: 1.3rem;
            color: var(--text-mute);
            transition: 0.3s;
        }

        .social-link:hover {
            color: #fff;
            transform: translateY(-3px);
        }

        .runtime-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.95rem;
            color: var(--accent);
            letter-spacing: 1px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .runtime-value:hover {
            color: var(--accent-light);
        }

        .col-center .card>div:first-child {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            width: 100%;
        }

        .tab-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 5px 0 10px 0;
            white-space: nowrap;
            width: 100%;
            /* ç¡®ä¿å®½åº¦100% */
            max-width: 35vw;
            /* ä½¿ç”¨è§†å£å®½åº¦å‡å»ä¸€äº›è¾¹è· */
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: rgba(99, 102, 241, 0.6) rgba(255, 255, 255, 0.05);
            /* Firefox */
        }

        /* ç¡®ä¿tabæŒ‰é’®ä¸è¢«å‹ç¼© */
        .tab-btn {
            padding: 8px 16px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.85rem;
            color: var(--text-mute);
            background: rgba(255, 255, 255, 0.05);
            transition: 0.2s;
            white-space: nowrap;
            border: 1px solid transparent;
            flex-shrink: 0;
            /* å…³é”®ï¼šé˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
        }

        /* è‡ªå®šä¹‰Webkitæ»šåŠ¨æ¡æ ·å¼ - æ·±è‰²ä¸»é¢˜ */
        .tab-bar::-webkit-scrollbar {
            height: 6px;
            /* æ¨ªå‘æ»šåŠ¨æ¡é«˜åº¦ */
        }

        .tab-bar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            margin: 0 10px;
            /* ä¸¤ä¾§ç•™å‡ºç©ºé—´ */
        }

        .tab-bar::-webkit-scrollbar-thumb {
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.8), rgba(129, 140, 248, 0.8));
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
            transition: all 0.3s ease;
        }

        .tab-bar::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(90deg, rgba(99, 102, 241, 1), rgba(129, 140, 248, 1));
            box-shadow: 0 0 15px rgba(99, 102, 241, 0.5);
        }

        /* æ·»åŠ æ»šåŠ¨æ¸å˜é®ç½©æ•ˆæœ */
        .tab-bar {
            position: relative;
            mask-image: linear-gradient(to right,
                    transparent,
                    black 10%,
                    black 90%,
                    transparent);
            -webkit-mask-image: linear-gradient(to right,
                    transparent,
                    black 10%,
                    black 90%,
                    transparent);
        }



        .tab-btn:hover {
            border-color: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .tab-btn.active {
            background: var(--accent);
            color: #fff;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .tab-add-btn {
            padding: 8px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.08);
            cursor: pointer;
            transition: 0.3s;
            flex-shrink: 0;
            /* å…³é”®ï¼šé˜²æ­¢è¢«å‹ç¼© */
        }

        .tab-add-btn:hover {
            background: var(--accent);
        }

        .content-scroll {
            flex: 1;
            overflow-y: auto;
            padding-right: 5px;
            max-height: 500px;
        }

        .item-row {
            background: rgba(255, 255, 255, 0.03);
            padding: 16px;
            border-radius: 16px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--border);
            transition: 0.2s;
            cursor: pointer;
        }

        .item-row:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(5px);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .item-title {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 4px;
        }

        .item-sub {
            font-size: 0.75rem;
            color: var(--text-mute);
        }

        .todo-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
            transition: 0.2s;
        }

        .todo-item:hover {
            background: rgba(255, 255, 255, 0.03);
            padding-left: 8px;
            padding-right: 8px;
            border-radius: 8px;
        }

        .todo-text {
            font-size: 0.85rem;
            flex: 1;
            margin-left: 10px;
        }

        .todo-actions {
            display: flex;
            gap: 10px;
            opacity: 0.5;
            transition: 0.2s;
        }

        .todo-item:hover .todo-actions {
            opacity: 1;
        }

        .todo-checkbox {
            width: 18px;
            height: 18px;
            border-radius: 6px;
            border: 1px solid var(--border);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .todo-checkbox.checked {
            background: var(--success);
            border-color: var(--success);
        }

        .todo-checkbox.checked::after {
            content: "âœ“";
            color: white;
            font-size: 0.7rem;
        }

        .todo-delete {
            color: var(--danger);
            cursor: pointer;
            transition: 0.2s;
        }

        .todo-delete:hover {
            transform: scale(1.2);
        }

        /* æ—¶é—´èƒ¶å›Šæ ·å¼ */
        .capsule-card h3 {
            font-size: 0.9rem;
            margin-bottom: 15px;
            color: var(--text-mute);
        }

        .progress-row {
            margin-bottom: 12px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            margin-bottom: 4px;
        }

        .progress-bg {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 1s;
        }

        .progress-fill.week {
            background: #a855f7;
        }

        .progress-fill.year {
            background: #ec4899;
        }

        /* è¯¦æƒ…è§†å›¾ */
        .info-overlay {
            position: absolute;
            inset: 0;
            backdrop-filter: blur(50px);
            display: none;
            flex-direction: column;
            padding: 45px;
            border-radius: var(--radius);
            z-index: 100;
            animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            overflow-y: hidden;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* æ—¶é—´èƒ¶å›Šè§†å›¾ */
        .capsule-overlay {
            position: absolute;
            inset: 0;
            backdrop-filter: blur(50px);
            display: none;
            flex-direction: column;
            padding: 45px;
            border-radius: var(--radius);
            z-index: 100;
            animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            overflow-y: hidden;
        }

        /* å¼¹çª—ç³»ç»Ÿ */
        #modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-body {
            background: #1a1a1a;
            padding: 30px;
            border-radius: 20px;
            width: 380px;
            max-width: 90%;
            border: 1px solid var(--border);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            animation: slideUp 0.3s ease-out;
        }

        .modal-input {
            width: 100%;
            padding: 12px;
            background: #222;
            border: 1px solid var(--border);
            border-radius: 10px;
            color: #fff;
            margin: 10px 0;
            outline: none;
            font-family: 'Inter', sans-serif;
        }

        .modal-input:focus {
            border-color: var(--accent);
        }

        /* è‡ªå®šä¹‰è‰ºæœ¯å­—åŒºåŸŸæ ·å¼ */
        .custom-art-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 30px 20px;
            height: 100%;
        }

        .art-main {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            font-weight: 700;
            color: var(--accent);
            text-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
            margin-bottom: 10px;
            line-height: 1;
        }

        .art-hello {
            font-family: 'Satisfy', cursive;
            font-size: 2.5rem;
            color: var(--text-main);
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .art-description {
            font-size: 0.9rem;
            color: var(--text-mute);
            max-width: 400px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .art-stats {
            display: flex;
            gap: 25px;
            margin-top: 20px;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--accent);
            font-weight: 700;
        }

        .stat-label {
            font-size: 0.7rem;
            color: var(--text-mute);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 5px;
        }

        .art-features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }

        .feature-tag {
            padding: 6px 12px;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 20px;
            font-size: 0.75rem;
            color: var(--accent-light);
            border: 1px solid rgba(99, 102, 241, 0.3);
        }

        /* å¾…åŠäº‹é¡¹è®¡æ•° */
        .todo-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .todo-count {
            font-size: 0.75rem;
            color: var(--text-mute);
            background: rgba(255, 255, 255, 0.05);
            padding: 4px 10px;
            border-radius: 10px;
        }

        /* å¤©æ°”å¡ç‰‡ */
        .weather-card {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(168, 85, 247, 0.1));
            position: relative;
            overflow: hidden;
        }

        .weather-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
            z-index: 0;
        }

        /* æŒ‰é’®æ ·å¼ */
        .btn {
            padding: 10px 20px;
            border-radius: 12px;
            border: none;
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-light);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* æç¤ºæ¡† */
        #toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(239, 68, 68, 0.9);
            color: #fff;
            padding: 12px 24px;
            border-radius: 12px;
            z-index: 2000;
            display: none;
            animation: fadeIn 0.3s;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.85rem;
            max-width: 90%;
            text-align: center;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, 10px);
            }

            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        /* æŠ€èƒ½æ ‡ç­¾ */
        .skill-tag {
            font-size: 0.65rem;
            padding: 5px 12px;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 10px;
            color: #ddd;
            border: 1px solid var(--border);
            transition: 0.2s;
            cursor: pointer;
        }

        .skill-tag:hover {
            background: rgba(99, 102, 241, 0.2);
            border-color: rgba(99, 102, 241, 0.5);
            transform: translateY(-2px);
        }

        /* ç§»åŠ¨ç«¯èœå•æŒ‰é’® */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: var(--glass);
            border: 1px solid var(--border);
            border-radius: 50%;
            z-index: 1001;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        /* ç§»åŠ¨ç«¯å¯¼èˆªèœå• */
        .mobile-nav {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            flex-direction: column;
            padding: 80px 30px 30px;
            overflow-y: auto;
        }

        .mobile-nav-item {
            padding: 18px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 1.1rem;
            color: var(--text-main);
            cursor: pointer;
            transition: 0.2s;
        }

        .mobile-nav-item:hover {
            background: rgba(99, 102, 241, 0.1);
            padding-left: 25px;
        }

        .mobile-nav-item.active {
            color: var(--accent);
            border-left: 3px solid var(--accent);
        }

        /* =============== ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ– =============== */
        @media (max-width: 1024px) {
            .bento-grid {
                grid-template-columns: 1fr;
                grid-template-rows: repeat(3, auto);
                width: 100%;
                max-width: 100%;
                padding: 20px;
                gap: 15px;
                min-height: auto;
            }

            .col-left,
            .col-center,
            .col-right {
                width: 100%;
                gap: 15px;
            }

            .content-scroll {
                max-height: none;
            }

            .art-main {
                font-size: 3.5rem;
            }

            .art-hello {
                font-size: 2rem;
            }

            .card {
                padding: 20px;
                border-radius: 20px;
            }

            .profile-card {
                flex-direction: row;
                align-items: center;
                text-align: left;
                gap: 20px;
            }

            .profile-card .avatar {
                width: 70px;
                height: 70px;
                margin: 0;
                border-radius: 20px;
            }

            .profile-text-container {
                height: auto;
                flex: 1;
                justify-content: flex-start;
                align-items: flex-start;
            }

            .social-icons {
                margin-top: 10px;
                justify-content: flex-start;
            }

            .item-row {
                padding: 14px;
            }
        }

        @media (max-width: 768px) {
            .bento-grid {
                padding: 15px;
                gap: 12px;
                padding-top: 70px;
                /* ä¸ºç§»åŠ¨ç«¯èœå•ç•™å‡ºç©ºé—´ */
            }

            .card {
                padding: 18px;
                border-radius: 18px;
            }

            .art-main {
                font-size: 2.8rem;
            }

            .art-hello {
                font-size: 1.8rem;
            }

            .art-stats {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }

            .stat-value {
                font-size: 1.2rem;
            }

            .art-features {
                gap: 8px;
            }

            .feature-tag {
                padding: 5px 10px;
                font-size: 0.7rem;
            }

            .info-overlay,
            .capsule-overlay {
                padding: 25px;
                padding-top: 70px;
                border-radius: 0;
                position: fixed;
                z-index: 999;
            }

            .info-overlay h1,
            .capsule-overlay h1 {
                font-size: 1.5rem;
            }

            .mobile-menu-btn {
                display: flex;
            }

            .mobile-nav.active {
                display: flex;
            }

            .todo-item {
                padding: 10px 0;
            }

            .tab-bar {
                max-width: calc(100vw - 100px);
                margin-bottom: 15px;
            }

            .tab-bar::-webkit-scrollbar {
                height: 5px;
                /* ç§»åŠ¨ç«¯æ»šåŠ¨æ¡æ›´ç»† */
            }

            .tab-bar {
                padding: 5px 0 10px 0;
                /* ç§»åŠ¨ç«¯å‡å°‘å†…è¾¹è· */
                mask-image: linear-gradient(to right,
                        transparent,
                        black 5%,
                        black 95%,
                        transparent);
                -webkit-mask-image: linear-gradient(to right,
                        transparent,
                        black 5%,
                        black 95%,
                        transparent);
            }

            .tab-btn {
                padding: 8px 14px;
                font-size: 0.8rem;
            }

            .btn {
                padding: 10px 16px;
                font-size: 0.85rem;
            }

            .btn-primary,
            .btn-secondary {
                margin-bottom: 10px;
            }
        }

        @media (max-width: 480px) {
            .bento-grid {
                padding: 12px;
                padding-top: 65px;
                gap: 10px;
            }

            .card {
                padding: 16px;
                border-radius: 16px;
            }

            .profile-card {
                text-align: center;
                gap: 15px;
            }

            .profile-card .avatar {
                width: 80px;
                height: 80px;
                margin: 0 auto;
            }

            .profile-text-container {
                align-items: center;
                justify-content: center;
            }

            .social-icons {
                justify-content: center;
            }

            .art-main {
                font-size: 2.2rem;
            }

            .art-hello {
                font-size: 1.5rem;
            }

            .art-description {
                font-size: 0.8rem;
                padding: 0 10px;
            }

            .art-stats {
                gap: 10px;
            }

            .stat-value {
                font-size: 1rem;
            }

            .stat-label {
                font-size: 0.6rem;
            }

            .feature-tag {
                font-size: 0.65rem;
                padding: 4px 8px;
            }

            .weather-card>div {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            #weather-icon {
                align-self: flex-end;
            }

            .mobile-menu-btn {
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
                font-size: 1.3rem;
            }

            .mobile-nav {
                padding: 70px 20px 20px;
            }

            .mobile-nav-item {
                padding: 16px;
                font-size: 1rem;
            }

            .tab-btn {
                padding: 6px 12px;
                font-size: 0.75rem;
            }

            .runtime-value {
                font-size: 0.85rem;
            }

            .item-title {
                font-size: 0.85rem;
            }

            .item-sub {
                font-size: 0.7rem;
            }

            .todo-text {
                font-size: 0.8rem;
            }

            #todo-input {
                padding: 8px;
                font-size: 0.8rem;
            }

            .modal-body {
                padding: 20px;
                width: 90%;
            }

            .modal-input {
                padding: 10px;
                font-size: 0.9rem;
            }

            #toast {
                font-size: 0.8rem;
                padding: 10px 20px;
            }
        }

        /* é˜²æ­¢é•¿æŒ‰å‡ºç°å¤åˆ¶èœå• */
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        /* å…è®¸ç‰¹å®šåŒºåŸŸæ–‡æœ¬é€‰æ‹© */
        .item-title,
        .todo-text,
        .art-description,
        .modal-input,
        #search-in,
        #todo-input {
            -webkit-user-select: text;
            user-select: text;
        }

        /* é€‚é…æ¨ªå± */
        @media (max-height: 500px) and (orientation: landscape) {
            .bento-grid {
                grid-template-columns: repeat(2, 1fr);
                grid-template-rows: auto auto;
                padding-top: 60px;
            }

            .col-center {
                grid-column: span 2;
            }

            .profile-card {
                flex-direction: row;
            }

            .content-scroll {
                max-height: 150px;
            }

            .mobile-nav {
                flex-direction: row;
                flex-wrap: wrap;
                padding: 70px 20px 20px;
            }

            .mobile-nav-item {
                flex: 1 0 45%;
                margin: 5px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 10px;
            }
        }
    </style>
</head>

<body>

    <div class="wallpaper"></div>

    <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
    <div class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="ri-menu-line" id="menuIcon"></i>
    </div>

    <!-- ç§»åŠ¨ç«¯å¯¼èˆªèœå• -->
    <div class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-item active" onclick="switchTab('custom'); closeMobileNav();">ä¸ªäººä¸»é¡µ</div>
        <div class="mobile-nav-item" onclick="switchTab('tools'); closeMobileNav();">å¸¸ç”¨å¯¼èˆª</div>
        <div class="mobile-nav-item" onclick="switchTab('dev'); closeMobileNav();">å¼€å‘æ–‡æ¡£</div>
        <div class="mobile-nav-item" onclick="switchTab('projects'); closeMobileNav();">æˆ‘çš„é¡¹ç›®</div>
        <div class="mobile-nav-item" onclick="toggleInfoMode(); closeMobileNav();">ä¸ªäººèµ„æ–™</div>
        <div class="mobile-nav-item" onclick="toggleCapsuleMode(); closeMobileNav();">æ—¶é—´èƒ¶å›Š</div>
        <div class="mobile-nav-item" onclick="window.open('https://github.com/QiaoXijie', '_blank'); closeMobileNav();">
            GitHub</div>
        <div class="mobile-nav-item" onclick="window.open('mailto:example@mail.com'); closeMobileNav();">è”ç³»æˆ‘</div>
    </div>

    <div class="bento-grid">
        <!-- å·¦ä¾§ -->
        <div class="col-left">
            <div class="card profile-card" onclick="toggleInfoMode()">
                <div class="avatar"></div>
                <div class="profile-text-container">
                    <div id="profile-normal" class="p-text visible">
                        <h2 style="font-size: 1.2rem;">Qiao Xijie</h2>
                        <p style="font-size: 0.7rem; color: var(--text-mute); margin-top: 4px;">ğŸ“ å¤©æ´¥ï¼Œä¸­å›½</p>
                        <div class="social-icons">
                            <a href="https://github.com/QiaoXijie" target="_blank" class="social-link" title="GitHub"><i
                                    class="ri-github-line"></i></a>
                            <a href="#" class="social-link" title="QQ"><i class="ri-qq-line"></i></a>
                            <a href="mailto:example@mail.com" class="social-link" title="é‚®ç®±"><i
                                    class="ri-mail-send-line"></i></a>
                        </div>
                    </div>
                    <div id="profile-oops" class="p-text hidden">
                        <div style="font-size: 0.9rem;">å“å‘€ï¼Œè¢«ä½ å‘ç°äº†</div>
                        <div class="oops-font">oops!</div>
                    </div>
                </div>
            </div>

            <div class="card" onclick="toggleCapsuleMode()" style="cursor: pointer;">
                <p
                    style="font-size: 0.7rem; color: var(--text-mute); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px;">
                    Uptime</p>
                <div class="runtime-value" id="runtime">00D 00H 00M 00S</div>
            </div>

            <div class="card" style="flex: 1;">
                <h3 style="font-size: 0.9rem; margin-bottom: 15px; color: var(--text-mute);">æŠ€èƒ½å›¾è°±</h3>
                <div id="skill-box" style="display: flex; flex-wrap: wrap; gap: 8px;"></div>
            </div>
        </div>

        <!-- ä¸­é—´ -->
        <div class="col-center" style="position: relative;">
            <div id="normal-view" style="display: flex; flex-direction: column; height: 100%; gap: 20px;">
                <div class="card" style="flex-direction: row; align-items: center; gap: 15px; flex-wrap: wrap;">
                    <div style="min-width: 90px; border-right: 1px solid var(--border); padding-right: 15px;">
                        <div id="time-now" style="font-size: 1.6rem; font-weight: 700; font-family: 'Orbitron';">00:00
                        </div>
                    </div>
                    <div style="flex: 1; min-width: 200px;">
                        <input type="text" id="search-in" placeholder="æœç‚¹ä»€ä¹ˆ..."
                            onkeydown="if(event.key==='Enter') window.open('https://www.baidu.com/s?wd='+this.value)"
                            style="width: 100%; background: transparent; border: none; padding: 5px; color: #fff; outline: none; font-size: 0.9rem;">
                    </div>
                </div>

                <div class="card" style="flex: 1; min-height: 400px; overflow: hidden;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                        <div class="tab-bar" id="tab-container" style="flex: 1;"></div>
                        <div class="tab-add-btn" onclick="openModal()" title="æ·»åŠ å½“å‰åˆ†ç±»é¡¹"><i class="ri-add-line"></i></div>
                    </div>
                    <div class="content-scroll" id="item-container"></div>
                </div>
            </div>

            <!-- ä¸ªäººèµ„æ–™è¯¦æƒ…è§†å›¾ -->
            <div id="info-view" class="info-overlay">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h1 style="font-size: 1.8rem; font-family: 'Orbitron';">Profile</h1>
                    <i class="ri-close-line" onclick="toggleInfoMode()"
                        style="font-size: 1.8rem; cursor: pointer; padding: 10px;"></i>
                </div>
                <div style="line-height: 1.8; color: #ccc; font-size: 0.95rem;">
                    <p>ğŸ‘‹ ä½ å¥½ï¼æˆ‘æ˜¯ <strong style="color:var(--accent)">Qiao Xijie</strong>ã€‚</p>
                    <p>ä¸€åå¸¸é©»å¤©æ´¥çš„å…¨æ ˆå¼€å‘çˆ±å¥½è€…ã€‚æˆ‘çƒ­è¡·äºæ¢ç´¢å‰æ²¿æŠ€æœ¯ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºå®ç”¨çš„å·¥å…·ã€‚</p>
                    <div
                        style="margin: 25px 0; padding: 25px; background: rgba(255,255,255,0.03); border-radius: 20px; border: 1px solid var(--border);">
                        <h4 style="color: #fff; margin-bottom: 10px;">æŠ€æœ¯æ ˆ</h4>
                        <p>ç†Ÿæ‚‰ Vue/React å‰ç«¯ç”Ÿæ€ï¼Œä»¥åŠ SpringBoot ä¸ºæ ¸å¿ƒçš„å¾®æœåŠ¡æ¶æ„ã€‚åŒæ—¶æ´»è·ƒäº Minecraft å¼€å‘ç¤¾åŒºã€‚</p>
                    </div>
                    <p style="font-size: 0.8rem; color: var(--text-mute);">æœ¬ç«™è¯ç”Ÿäº 2022 å¹´åœ£è¯èŠ‚ï¼Œå§‹ç»ˆåšæŒæç®€ä¸è‡ªç”±ã€‚</p>
                    <div style="margin-top: 30px; display: flex; flex-wrap: wrap; gap: 10px;">
                        <button class="btn btn-primary"
                            onclick="window.open('https://qiaoxijie.cn', '_blank')">è®¿é—®æˆ‘çš„åšå®¢</button>
                        <button class="btn btn-secondary" onclick="closeMobileNav(); toggleInfoMode();">è¿”å›ä¸»é¡µ</button>
                    </div>
                </div>
            </div>

            <!-- æ—¶é—´èƒ¶å›Šè§†å›¾ -->
            <div id="capsule-view" class="capsule-overlay">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <h1 style="font-size: 1.8rem; font-family: 'Orbitron';">æ—¶é—´èƒ¶å›Š</h1>
                    <i class="ri-close-line" onclick="toggleCapsuleMode()"
                        style="font-size: 1.8rem; cursor: pointer; padding: 10px;"></i>
                </div>
                <div style="line-height: 1.8; color: #ccc; font-size: 0.95rem;">
                    <p>è¿™æ˜¯ä¸€ä¸ªæ—¶é—´è¿›åº¦æŒ‡ç¤ºå™¨ï¼Œå±•ç¤ºä»Šå¤©ã€æœ¬å‘¨å’Œä»Šå¹´çš„æ—¶é—´æµé€æƒ…å†µã€‚</p>
                    <div style="margin-top: 30px;">
                        <div class="capsule-card">
                            <div class="progress-row">
                                <div class="progress-label"><span>ä»Šæ—¥</span><span id="p-day">0%</span></div>
                                <div class="progress-bg">
                                    <div class="progress-fill" id="b-day"></div>
                                </div>
                            </div>
                            <div class="progress-row">
                                <div class="progress-label"><span>æœ¬å‘¨</span><span id="p-week">0%</span></div>
                                <div class="progress-bg">
                                    <div class="progress-fill" id="b-week" class="week"></div>
                                </div>
                            </div>
                            <div class="progress-row">
                                <div class="progress-label"><span>ä»Šå¹´</span><span id="p-year">0%</span></div>
                                <div class="progress-bg">
                                    <div class="progress-fill" id="b-year" class="year"></div>
                                </div>
                            </div>
                        </div>
                        <div
                            style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 15px; border: 1px solid var(--border);">
                            <h4 style="color: #fff; margin-bottom: 10px;">æ—¶é—´å“²å­¦</h4>
                            <p style="font-size: 0.85rem;">"æ—¶é—´ä¸åœ¨äºä½ æ‹¥æœ‰å¤šå°‘ï¼Œè€Œåœ¨äºä½ æ€æ ·ä½¿ç”¨ã€‚" çœ‹ç€æ—¶é—´çš„æµé€ï¼Œæé†’è‡ªå·±è¦çæƒœæ¯ä¸€åˆ»ï¼Œåˆç†è§„åˆ’ï¼Œè®©æ¯ä¸€å¤©éƒ½æœ‰æ„ä¹‰ã€‚</p>
                        </div>
                        <div style="margin-top: 30px; display: flex; flex-wrap: wrap; gap: 10px;">
                            <button class="btn btn-primary"
                                onclick="closeMobileNav(); toggleCapsuleMode();">è¿”å›ä¸»é¡µ</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å³ä¾§ -->
        <div class="col-right">
            <div class="card weather-card">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; position: relative; z-index: 1;flex-direction: row;">
                    <div>
                        <div id="weather-temp" style="font-size: 2.2rem; font-weight: 700;">--Â°C</div>
                        <div id="weather-desc" style="font-size: 0.85rem; color: rgba(255,255,255,0.8);">è·å–ä¸­...</div>
                    </div>
                    <i id="weather-icon" class="ri-sun-cloudy-line" style="font-size: 2.5rem; color: #fbbf24;"></i>
                </div>
            </div>

            <div class="card" style="flex: 1;">
                <div class="todo-header">
                    <h3 style="font-size: 0.9rem; color: var(--text-mute);">ä»»åŠ¡æ¸…å•</h3>
                    <div class="todo-count" id="todo-count">0 é¡¹</div>
                </div>
                <div style="display: flex; gap: 8px; margin-bottom: 15px;">
                    <input type="text" id="todo-input" placeholder="è¾“å…¥å¾…åŠå¹¶å›è½¦..."
                        onkeydown="if(event.key==='Enter') addTodo()"
                        style="flex: 1; background: rgba(255,255,255,0.05); border: 1px solid var(--border); border-radius: 10px; color: #fff; padding: 10px; font-size: 0.8rem; outline: none;">
                </div>
                <div id="todo-list" class="content-scroll" style="max-height: 300px;"></div>
            </div>
        </div>
    </div>

    <!-- å¼¹çª— -->
    <div id="modal">
        <div class="modal-body">
            <h3 id="modal-title">æ–°å¢å†…å®¹</h3>
            <input type="text" id="m-name" class="modal-input" placeholder="é¡¹ç›®/ç½‘ç«™åç§°">
            <input type="text" id="m-path" class="modal-input" placeholder="é“¾æ¥(å¦‚ github.com) æˆ– æè¿°">
            <div style="display: flex; gap: 10px; margin-top: 15px;">
                <button onclick="saveModal()"
                    style="flex: 1; padding: 12px; background: var(--accent); border: none; color: #fff; border-radius: 10px; cursor: pointer; font-weight: 600;">ä¿å­˜</button>
                <button onclick="closeModal()"
                    style="flex: 1; padding: 12px; background: #333; border: none; color: #fff; border-radius: 10px; cursor: pointer;">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <div id="toast">è¿™æ˜¯å—ä¿æŠ¤çš„åˆ†ç±»ï¼Œä¸å¯åˆ é™¤</div>

    <script>
        const siteBorn = new Date('2022-12-25 00:00:00');
        let currentTabId = 'custom'; // é»˜è®¤æ‰“å¼€customæ ‡ç­¾é¡µ

        // åˆå§‹åŒ–å­˜å‚¨æ•°æ®
        let storage = JSON.parse(localStorage.getItem('qxj_v5_data')) || {
            tabs: [
                { id: 'custom', name: 'qiaoxijie.cn', locked: true, items: [] },  // è‰ºæœ¯å­—ç‰¹æ®Šæ ‡ç­¾é¡µæ”¾åœ¨é¦–ä½
                {
                    id: 'tools', name: 'å¸¸ç”¨å¯¼èˆª', items: [
                        { name: 'Bilibili', path: 'bilibili.com' },
                        { name: 'GitHub', path: 'github.com' },
                        { name: 'Google', path: 'google.com' },
                        { name: 'ChatGPT', path: 'chat.openai.com' }
                    ]
                },
                {
                    id: 'dev', name: 'å¼€å‘æ–‡æ¡£', items: [
                        { name: 'Vue Docs', path: 'vuejs.org' },
                        { name: 'Nacos', path: 'nacos.io' },
                        { name: 'MDN', path: 'developer.mozilla.org' },
                        { name: 'Stack Overflow', path: 'stackoverflow.com' }
                    ]
                },
                {
                    id: 'projects', name: 'æˆ‘çš„é¡¹ç›®', locked: true, items: [
                        { name: 'Nook-FrontEnd', path: 'QiaoXijie/Nook-FrontEnd' },
                        { name: 'Nook-backEnd', path: 'QiaoXijie/Nook-backEnd' },
                        { name: 'Code-Soul-back-end', path: 'QiaoXijie/Code-Soul-back-end' },
                        { name: 'Code-Soul-front-end', path: 'QiaoXijie/Code-Soul-front-end' },
                        { name: 'meeting-system', path: 'QiaoXijie/meeting-system' },
                        { name: 'meeting-system-front', path: 'QiaoXijie/meeting-system-front' }
                    ]
                }
            ],
            skills: ['HTML', 'CSS', 'JavaScript', 'Vue', 'React', 'SpringBoot', 'MySQL', 'Redis', 'Nacos', 'Android', 'Minecraft Mod', 'TypeScript', 'Node.js'],
            todos: []
        };

        // æ—¶é—´èƒ¶å›ŠåŠŸèƒ½
        function updateCapsule() {
            const now = new Date();
            const startOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate());
            const dayProg = ((now - startOfDay) / 86400000) * 100;

            const startOfYear = new Date(now.getFullYear(), 0, 1);
            const yearProg = ((now - startOfYear) / (31536000000)) * 100;

            const day = now.getDay() || 7;
            const weekProg = ((day - 1 + (now.getHours() / 24)) / 7) * 100;

            setProg('day', dayProg);
            setProg('week', weekProg);
            setProg('year', yearProg);
        }

        function setProg(id, val) {
            const percentEl = document.getElementById('p-' + id);
            const barEl = document.getElementById('b-' + id);
            if (percentEl && barEl) {
                percentEl.innerText = Math.floor(val) + '%';
                barEl.style.width = val + '%';
            }
        }

        // åˆ‡æ¢æ—¶é—´èƒ¶å›Šè§†å›¾
        function toggleCapsuleMode() {
            const normalView = document.getElementById('normal-view');
            const capsuleView = document.getElementById('capsule-view');
            const infoView = document.getElementById('info-view');

            if (capsuleView.style.display === 'flex') {
                // è¿”å›åŠ¨ç”»
                capsuleView.style.animation = 'slideDown 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards';


                capsuleView.style.display = 'none';
                capsuleView.style.animation = '';
                normalView.style.display = 'flex';
                normalView.style.animation = 'slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards';

                setTimeout(() => {
                    normalView.style.animation = '';
                }, 400);

            } else {
                infoView.style.display = 'none';
                normalView.style.display = 'none';
                capsuleView.style.display = 'flex';
                capsuleView.style.animation = 'slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards';
                updateCapsule();
            }
        }

        // åˆ‡æ¢ä¸ªäººèµ„æ–™è§†å›¾
        function toggleInfoMode() {
            const normalView = document.getElementById('normal-view');
            const infoView = document.getElementById('info-view');
            const capsuleView = document.getElementById('capsule-view');
            const normalTxt = document.getElementById('profile-normal');
            const oopsTxt = document.getElementById('profile-oops');

            // å¦‚æœå½“å‰æ˜¾ç¤ºçš„æ˜¯ä¸ªäººä¿¡æ¯è§†å›¾ï¼Œåˆ™è¿”å›ä¸»ç•Œé¢
            if (infoView.style.display === 'flex') {
                // å…ˆç»™ä¸ªäººä¿¡æ¯è§†å›¾æ·»åŠ æ·¡å‡ºåŠ¨ç”»
                infoView.style.animation = 'slideDown 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards';

                // å»¶è¿Ÿæ˜¾ç¤ºä¸»ç•Œé¢ï¼Œè®©è¿‡æ¸¡æ›´è‡ªç„¶

                infoView.style.display = 'none';
                infoView.style.animation = '';
                normalView.style.display = 'flex';
                normalView.style.animation = 'slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards';

                // æ¢å¤åŠ¨ç”»å±æ€§
                setTimeout(() => {
                    normalView.style.animation = '';
                }, 400);

                normalTxt.className = 'p-text visible';
                oopsTxt.className = 'p-text hidden';


            } else {
                // æ˜¾ç¤ºä¸ªäººä¿¡æ¯è§†å›¾
                capsuleView.style.display = 'none';
                normalView.style.display = 'none';
                infoView.style.display = 'flex';
                infoView.style.animation = 'slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards';
                normalTxt.className = 'p-text hidden';
                oopsTxt.className = 'p-text visible';
            }
        }


        // ç§»åŠ¨ç«¯å¯¼èˆªæ§åˆ¶
        function toggleMobileNav() {
            const mobileNav = document.getElementById('mobileNav');
            const menuIcon = document.getElementById('menuIcon');

            if (mobileNav.classList.contains('active')) {
                mobileNav.classList.remove('active');
                menuIcon.className = 'ri-menu-line';
            } else {
                mobileNav.classList.add('active');
                menuIcon.className = 'ri-close-line';
            }
        }

        function closeMobileNav() {
            const mobileNav = document.getElementById('mobileNav');
            const menuIcon = document.getElementById('menuIcon');
            mobileNav.classList.remove('active');
            menuIcon.className = 'ri-menu-line';
        }

        // æç¤ºæ¡†åŠŸèƒ½
        function showToast(msg) {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.style.display = 'block';
            setTimeout(() => t.style.display = 'none', 2000);
        }

        // æ¸²æŸ“æ ‡ç­¾é¡µ - ç¡®ä¿customæ ‡ç­¾é¡µåœ¨é¦–ä½
        function renderTabs() {
            const container = document.getElementById('tab-container');

            // ç¡®ä¿customæ ‡ç­¾é¡µå­˜åœ¨
            if (!storage.tabs.find(t => t.id === 'custom')) {
                storage.tabs.unshift({ id: 'custom', name: 'qiaoxijie.cn', locked: true, items: [] });
            }

            // ç¡®ä¿å½“å‰æ ‡ç­¾é¡µæœ‰æ•ˆ
            if (!storage.tabs.find(t => t.id === currentTabId)) {
                currentTabId = storage.tabs.length > 0 ? storage.tabs[0].id : 'custom';
            }

            // å…ˆæ˜¾ç¤ºlockedçš„æ ‡ç­¾é¡µï¼Œå†æ˜¾ç¤ºå…¶ä»–æ ‡ç­¾é¡µ
            const lockedTabs = storage.tabs.filter(t => t.locked);
            const unlockedTabs = storage.tabs.filter(t => !t.locked);
            const sortedTabs = [...lockedTabs, ...unlockedTabs];

            container.innerHTML = sortedTabs.map(t => `
                <div class="tab-btn ${t.id === currentTabId ? 'active' : ''}" 
                     onclick="switchTab('${t.id}')" 
                     oncontextmenu="deleteTab(event, '${t.id}')">
                    ${t.name}
                </div>
            `).join('');
            container.innerHTML += `<div class="tab-add-btn" onclick="addNewTab()" title="åˆ›å»ºæ–°åˆ†ç±»"><i class="ri-folder-add-line"></i></div>`;
            renderItems();
        }

        // æ·»åŠ æ–°æ ‡ç­¾é¡µ
        function addNewTab() {
            const name = prompt('è¯·è¾“å…¥æ–°åˆ†ç±»åç§°:');
            if (name && name.trim()) {
                const id = 'tab_' + Date.now();
                storage.tabs.push({ id, name, items: [] }); // æ·»åŠ åˆ°æœ«å°¾
                saveData();
                renderTabs();
                switchTab(id);
            }
        }

        // åˆ é™¤æ ‡ç­¾é¡µ
        function deleteTab(e, id) {
            e.preventDefault();
            const tab = storage.tabs.find(t => t.id === id);
            if (tab && tab.locked) {
                showToast('å—ä¿æŠ¤çš„åˆ†ç±»ä¸å¯åˆ é™¤ï¼');
                return;
            }
            if (tab && confirm(`ç¡®å®šåˆ é™¤åˆ†ç±» [${tab.name}] å—ï¼Ÿ`)) {
                storage.tabs = storage.tabs.filter(t => t.id !== id);
                saveData();
                renderTabs();
            }
        }

        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(id) {
            currentTabId = id;
            renderTabs();

            // æ›´æ–°ç§»åŠ¨ç«¯å¯¼èˆªæ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // æ ¹æ®æ ‡ç­¾é¡µIDè®¾ç½®å¯¹åº”çš„å¯¼èˆªé¡¹ä¸ºæ¿€æ´»çŠ¶æ€
            const navItems = document.querySelectorAll('.mobile-nav-item');
            if (id === 'custom') navItems[0].classList.add('active');
            if (id === 'tools') navItems[1].classList.add('active');
            if (id === 'dev') navItems[2].classList.add('active');
            if (id === 'projects') navItems[3].classList.add('active');
        }

        // æ ¼å¼åŒ–URL
        function formatUrl(path) {
            if (path.startsWith('http')) return path;
            // å¦‚æœæ˜¯ GitHub ä»“åº“æ ¼å¼ (user/repo)
            if (path.includes('/') && !path.includes('.')) return `https://github.com/${path}`;
            // é»˜è®¤è¡¥å…¨ https
            return `https://${path}`;
        }

        // æ¸²æŸ“é¡¹ç›®å†…å®¹
        function renderItems() {
            const container = document.getElementById('item-container');
            const currentTab = storage.tabs.find(t => t.id === currentTabId);
            if (!currentTab) return;

            // è‡ªå®šä¹‰è‰ºæœ¯å­—æ ‡ç­¾é¡µç‰¹æ®Šå¤„ç†
            if (currentTabId === 'custom') {
                container.innerHTML = `
                    <div class="custom-art-container">
                        <div class="art-main">qiaoxijie.cn</div>
                        <div class="art-hello">Hello World!</div>
                        <div class="art-description">
                            è¿™æ˜¯æˆ‘çš„ä¸ªäººä¸»é¡µï¼Œä¸€ä¸ªå±•ç¤ºæˆ‘çš„é¡¹ç›®ã€æŠ€èƒ½å’Œæƒ³æ³•çš„åœ°æ–¹ã€‚
                        </div>
                        <div class="art-stats">
                            <div class="stat-item">
                                <div class="stat-value">${storage.tabs.reduce((acc, tab) => acc + tab.items.length, 0)}</div>
                                <div class="stat-label">é¡¹ç›®æ€»æ•°</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">${storage.skills.length}</div>
                                <div class="stat-label">æŠ€èƒ½</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">${Math.floor((new Date() - siteBorn) / (1000 * 60 * 60 * 24))}</div>
                                <div class="stat-label">è¿è¡Œå¤©æ•°</div>
                            </div>
                        </div>
                        <div class="art-features">
                            <div class="feature-tag">å…¨æ ˆå¼€å‘</div>
                            <div class="feature-tag">å¼€æºé¡¹ç›®</div>
                            <div class="feature-tag">æŠ€æœ¯åšå®¢</div>
                            <div class="feature-tag">åˆ›æ„è®¾è®¡</div>
                        </div>
                        <div style="margin-top: 30px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                            <button class="btn btn-primary" onclick="window.open('https://github.com/QiaoXijie', '_blank')">æŸ¥çœ‹æˆ‘çš„GitHub</button>
                            <button class="btn btn-secondary" onclick="window.open('mailto:example@mail.com')">è”ç³»æˆ‘</button>
                        </div>
                    </div>
                `;
                return;
            }

            // æ™®é€šæ ‡ç­¾é¡µå†…å®¹
            container.innerHTML = currentTab.items.map((item, idx) => `
                <div class="item-row" onclick="window.open('${formatUrl(item.path)}', '_blank')">
                    <div style="flex: 1;">
                        <div class="item-title">${item.name}</div>
                        <div class="item-sub">${item.path}</div>
                    </div>
                    <div style="display:flex; gap:10px; padding-left: 10px;" onclick="event.stopPropagation()">
                        <i class="ri-edit-line" style="cursor:pointer; color:var(--text-mute)" onclick="editItem(${idx})" title="ç¼–è¾‘"></i>
                        <i class="ri-delete-bin-7-line" style="cursor:pointer; color:var(--text-mute)" onclick="deleteItem(${idx})" title="åˆ é™¤"></i>
                    </div>
                </div>
            `).join('');
        }

        let editingIdx = -1;
        function openModal() {
            // å¦‚æœæ˜¯è‡ªå®šä¹‰æ ‡ç­¾é¡µï¼Œä¸å…è®¸æ·»åŠ é¡¹ç›®
            if (currentTabId === 'custom') {
                showToast('è‡ªå®šä¹‰æ ‡ç­¾é¡µä¸å…è®¸æ·»åŠ é¡¹ç›®');
                return;
            }

            const cur = storage.tabs.find(t => t.id === currentTabId);
            if (!cur) return;
            document.getElementById('modal').style.display = 'flex';
            editingIdx = -1;
            document.getElementById('m-name').value = '';
            document.getElementById('m-path').value = '';
        }

        function editItem(idx) {
            const cur = storage.tabs.find(t => t.id === currentTabId);
            if (!cur) return;
            const item = cur.items[idx];
            document.getElementById('modal').style.display = 'flex';
            document.getElementById('m-name').value = item.name;
            document.getElementById('m-path').value = item.path;
            editingIdx = idx;
        }

        function saveModal() {
            const name = document.getElementById('m-name').value;
            const path = document.getElementById('m-path').value;
            if (!name || !path) return;
            const currentTab = storage.tabs.find(t => t.id === currentTabId);
            if (!currentTab) return;
            if (editingIdx > -1) currentTab.items[editingIdx] = { name, path };
            else currentTab.items.unshift({ name, path });
            saveData();
            closeModal();
            renderItems();
        }

        function deleteItem(idx) {
            if (confirm('ç¡®å®šç§»é™¤è¯¥é¡¹ï¼Ÿ')) {
                const cur = storage.tabs.find(t => t.id === currentTabId);
                if (cur) cur.items.splice(idx, 1);
                saveData();
                renderItems();
            }
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function saveData() {
            localStorage.setItem('qxj_v5_data', JSON.stringify(storage));
        }

        // å¾…åŠäº‹é¡¹åŠŸèƒ½
        function renderTodos() {
            const box = document.getElementById('todo-list');
            const countEl = document.getElementById('todo-count');

            if (storage.todos.length === 0) {
                box.innerHTML = '<div style="text-align:center; padding:30px; color:var(--text-mute); font-size:0.85rem;">æš‚æ— å¾…åŠäº‹é¡¹ï¼Œæ·»åŠ ä¸€ä¸ªå§ï¼</div>';
                countEl.innerText = '0 é¡¹';
                return;
            }

            box.innerHTML = storage.todos.map((t, i) => `
                <div class="todo-item" data-index="${i}">
                    <div class="todo-checkbox ${t.completed ? 'checked' : ''}" onclick="toggleTodo(${i})"></div>
                    <div class="todo-text" style="${t.completed ? 'text-decoration: line-through; opacity: 0.6;' : ''}">${t.text}</div>
                    <div class="todo-actions">
                        <i class="ri-delete-bin-line todo-delete" onclick="removeTodo(${i})"></i>
                    </div>
                </div>
            `).join('');

            const completedCount = storage.todos.filter(t => t.completed).length;
            const totalCount = storage.todos.length;
            countEl.innerText = `${completedCount}/${totalCount} é¡¹`;
        }

        // æ·»åŠ å¾…åŠäº‹é¡¹
        function addTodo() {
            const input = document.getElementById('todo-input');
            const text = input.value.trim();
            if (text) {
                // å°†å¾…åŠäº‹é¡¹è½¬æ¢ä¸ºå¯¹è±¡æ ¼å¼
                storage.todos.unshift({
                    text: text,
                    completed: false,
                    createdAt: new Date().toISOString()
                });
                input.value = '';
                saveData();
                renderTodos();
            }
        }

        // åˆ‡æ¢å¾…åŠäº‹é¡¹çŠ¶æ€
        function toggleTodo(index) {
            if (storage.todos[index]) {
                storage.todos[index].completed = !storage.todos[index].completed;
                saveData();
                renderTodos();
            }
        }

        // ç§»é™¤å¾…åŠäº‹é¡¹
        function removeTodo(index) {
            if (confirm('ç¡®å®šåˆ é™¤è¿™ä¸ªå¾…åŠäº‹é¡¹ï¼Ÿ')) {
                storage.todos.splice(index, 1);
                saveData();
                renderTodos();
            }
        }

            function setRandomWallpaper() {
        const wallpaperAPIs = [
            // Picsum éšæœºå›¾ç‰‡
            'https://picsum.photos/1920/1080?random=1',
            'https://picsum.photos/1920/1080?random=2'
        ];
        
        // éšæœºé€‰æ‹©ä¸€ä¸ªAPI
        const randomIndex = Math.floor(Math.random() * wallpaperAPIs.length);
        const randomWallpaperURL = wallpaperAPIs[randomIndex] + '&t=' + Date.now();
        
        // åº”ç”¨åˆ°èƒŒæ™¯
        const wallpaperElement = document.querySelector('.wallpaper');
        wallpaperElement.style.backgroundImage = `url('${randomWallpaperURL}')`;
    }

        // æ›´æ–°æ—¶é—´
        function updateTime() {
            const now = new Date();
            const timeEl = document.getElementById('time-now');
            if (timeEl) timeEl.innerText = now.toLocaleTimeString('zh-CN', { hour12: false, hour: '2-digit', minute: '2-digit' });

            const diff = now - siteBorn;
            const d = Math.floor(diff / 86400000);
            const h = Math.floor((diff % 86400000) / 3600000);
            const m = Math.floor((diff % 3600000) / 60000);
            const s = Math.floor((diff % 60000) / 1000);
            const runEl = document.getElementById('runtime');
            if (runEl) runEl.innerText = `${d}D ${h.toString().padStart(2, '0')}H ${m.toString().padStart(2, '0')}M ${s.toString().padStart(2, '0')}S`;

            // æ›´æ–°æ—¶é—´èƒ¶å›Š
            updateCapsule();
        }

        // è·å–å¤©æ°”
        async function fetchWeather() {
            try {
                const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=39.13&longitude=117.18&current=temperature_2m,weather_code&timezone=auto');
                const d = await res.json();
                document.getElementById('weather-temp').innerText = Math.round(d.current.temperature_2m) + 'Â°C';
                const code = d.current.weather_code;
                const codes = {
                    0: 'æ™´æœ—', 1: 'æ™´é—´å¤šäº‘', 2: 'å¤šäº‘', 3: 'é˜´å¤©',
                    45: 'å¤§é›¾', 48: 'é›¾', 51: 'ç»†é›¨', 53: 'å°é›¨',
                    55: 'ä¸­é›¨', 61: 'å°é›¨', 63: 'ä¸­é›¨', 65: 'å¤§é›¨',
                    71: 'å°é›ª', 73: 'ä¸­é›ª', 75: 'å¤§é›ª', 77: 'å†°ç²’',
                    80: 'é˜µé›¨', 81: 'å¼ºé˜µé›¨', 82: 'æš´é›¨', 85: 'é˜µé›ª',
                    86: 'å¼ºé˜µé›ª', 95: 'é›·é›¨', 96: 'é›·é›¨ä¼´æœ‰å†°é›¹', 99: 'å¼ºé›·é›¨ä¼´æœ‰å†°é›¹'
                };
                document.getElementById('weather-desc').innerText = codes[code] || 'æ™´æœ—';

                // æ ¹æ®å¤©æ°”ä»£ç è®¾ç½®å›¾æ ‡
                const iconEl = document.getElementById('weather-icon');
                if (code === 0) {
                    iconEl.className = 'ri-sun-line';
                    iconEl.style.color = '#fbbf24';
                } else if (code <= 3) {
                    iconEl.className = 'ri-cloudy-line';
                    iconEl.style.color = '#9ca3af';
                } else if (code <= 67) {
                    iconEl.className = 'ri-rainy-line';
                    iconEl.style.color = '#60a5fa';
                } else if (code <= 86) {
                    iconEl.className = 'ri-snowy-line';
                    iconEl.style.color = '#dbeafe';
                } else {
                    iconEl.className = 'ri-thunderstorms-line';
                    iconEl.style.color = '#facc15';
                }
            } catch (e) {
                const el = document.getElementById('weather-desc');
                if (el) el.innerText = 'è·å–å¤±è´¥';
            }
        }

        // é¡µé¢åŠ è½½åˆå§‹åŒ–
        window.onload = () => {
            // è½¬æ¢æ—§çš„å¾…åŠäº‹é¡¹æ ¼å¼ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
            if (storage.todos && storage.todos.length > 0 && typeof storage.todos[0] === 'string') {
                storage.todos = storage.todos.map(text => ({
                    text: text,
                    completed: false,
                    createdAt: new Date().toISOString()
                }));
                saveData();
            }

            // ç¡®ä¿é»˜è®¤æ˜¾ç¤ºæ­£å¸¸è§†å›¾
            document.getElementById('normal-view').style.display = 'flex';
            document.getElementById('info-view').style.display = 'none';
            document.getElementById('capsule-view').style.display = 'none';

            setRandomWallpaper();
            renderTabs();
            renderTodos();
            updateTime();
            updateCapsule(); // åˆå§‹åŒ–æ—¶é—´èƒ¶å›Š
            fetchWeather();
            setInterval(updateTime, 1000);
            setInterval(updateCapsule, 60000); // æ¯åˆ†é’Ÿæ›´æ–°æ—¶é—´èƒ¶å›Š

            // æ¸²æŸ“æŠ€èƒ½æ ‡ç­¾
            document.getElementById('skill-box').innerHTML = storage.skills.map(s => `
        <span class="skill-tag">${s}</span>
    `).join('');

            // ä¸ºæŠ€èƒ½æ ‡ç­¾æ·»åŠ ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.skill-tag').forEach(tag => {
                tag.addEventListener('click', function () {
                    const skill = this.innerText;
                    showToast(`ç‚¹å‡»äº†æŠ€èƒ½: ${skill}`);
                });
            });

            // ç§»åŠ¨ç«¯èœå•æŒ‰é’®äº‹ä»¶
            document.getElementById('mobileMenuBtn').addEventListener('click', toggleMobileNav);

            // ç‚¹å‡»é¡µé¢å…¶ä»–åœ°æ–¹å…³é—­ç§»åŠ¨ç«¯èœå•
            document.addEventListener('click', function (event) {
                const mobileNav = document.getElementById('mobileNav');
                const menuBtn = document.getElementById('mobileMenuBtn');

                if (mobileNav.classList.contains('active') &&
                    !mobileNav.contains(event.target) &&
                    !menuBtn.contains(event.target)) {
                    closeMobileNav();
                }
            });

            // ç§»åŠ¨ç«¯è§¦æ‘¸ä¼˜åŒ–ï¼šé˜²æ­¢ç‚¹å‡»å»¶è¿Ÿ
            if ('ontouchstart' in window) {
                document.documentElement.style.cursor = 'pointer';
            }
        };
    </script>
</body>

</html>
